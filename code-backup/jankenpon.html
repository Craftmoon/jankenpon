<!DOCTYPE html>
<html>
<head>
  <title>Rock-paper-scissors</title>
</head>
<body>
  <script>

    // Function that randomize and return the computer hand choice
    function computerPlay () {
      const hands = ['rock', 'paper', 'scissors'];
      // Random between 0 and 2;
      let compHand = hands[Math.floor(Math.random()*3)];
      return compHand;
    }
    
    // Receives the player hand input
    function playerPlay () {
      let playerHand = prompt('Write your hand!');
      // Make both the answer lowercase
      playerHand = playerHand.toLowerCase();
      return playerHand;
    }

    // Calculate the match result
    function jankenpon (playerSelection, compSelection) {
      
      // Politely check if the player input is acceptable
      if (playerSelection !== 'rock' && playerSelection !== 'paper' && playerSelection !== 'scissors') {
        return 'Can\'t you fucking write?';
      }

      //  Check who wins
      if (playerSelection === 'rock') {
        if (compSelection === 'rock') {
          console.log('Draw! You both suck!');
          return null;
        } else {
          if (compSelection === 'paper') {
            console.log(`You lose! Computer's ${compSelection} beats your ${playerSelection} !`);
            return false;
          } else {
            console.log(`You win! Your ${playerSelection} beats Computer's ${compSelection} !`);
            return true;
          }
        }
      } else if (playerSelection === 'paper') {
          if (compSelection === 'rock') {
            console.log(`You win! Your ${playerSelection} beats Computer's ${compSelection} !`);
            return true;
          } else {
            if (compSelection === 'paper') {
              console.log('Draw! You both suck!');
              return null;
            } else {
              console.log(`You lose! Computer's ${compSelection} beats your ${playerSelection} !`);
              return false;
            }
        }
      } else {
        if (compSelection === 'rock') {
          console.log(`You lose! Computer's ${compSelection} beats your ${playerSelection} !`);
          return false;
        } else {
          if (compSelection === 'paper') {
            console.log(`You win! Your ${playerSelection} beats Computer's ${compSelection} !`);
            return true;
          } else {
            console.log('Draw! You both suck!');
            return null;
          }
        }
      }
    }

    // Function that runs 5 matches and calculates the winner
    function game () {

      let playerScore = 0;
      let compScore = 0;

      for ( i = 0; i <= 4 ; i++ ){
        
        switch (jankenpon(playerPlay(),computerPlay())) {
          case true:
              playerScore += 1;
              break;
          case false:
              compScore += 1;
              break;
          case null:
              break;
        }
      }

      console.log(`O placar final é: \n Computador: ${compScore} \n Você: ${playerScore}`);

      if (playerScore > compScore){
        return 'Congratulations! You win the best of 5!';
      } else if (compScore > playerScore) {
        return 'You suck! You lost the best of 5!';
      } else {
        return 'Draw! No one wins! FUCK!';
      }
     }

  </script>
</body>
</html>